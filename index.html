<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #ffe6f2, #ffb3d9);
            color: #d63384;
            text-align: center;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        button {
            font-size: 1.5em;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: #ff69b4;
            color: white;
            transition: background 0.3s;
        }
        button:hover {
            background: #ff1493;
        }
        #yesBtn {
            transition: transform 0.5s ease;
        }
        .polaroid {
            position: absolute;
            width: 150px;
            height: 180px;
            background: white;
            border: 10px solid white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transform: rotate(-5deg);
            z-index: 1;
        }
        .polaroid img {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }
        .polaroid p {
            margin: 5px;
            font-size: 0.8em;
        }
        .top-left { top: 20px; left: 20px; }
        .top-right { top: 20px; right: 20px; transform: rotate(5deg); }
        .bottom-left { bottom: 20px; left: 20px; transform: rotate(3deg); }
        .bottom-right { bottom: 20px; right: 20px; transform: rotate(-3deg); }
        .gift-overlay {
            position: fixed;
            top: 50%;
            right: 20px;
            width: 100px;
            height: 100px;
            background: #ff69b4;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 2em;
            z-index: 10;
            transition: transform 0.3s;
        }
        .gift-overlay:hover {
            transform: scale(1.1);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            text-align: left;
            position: relative;
        }
        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 1.5em;
        }
        .next-gift {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        .disc {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, #333 30%, #000 70%);
            position: relative;
            animation: rotate 3s linear infinite;
            margin: 20px auto;
        }
        .disc::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50px;
            height: 50px;
            background: url('photos/album-cover.jpg') no-repeat center/cover;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        audio {
            display: block;
            margin: 10px auto;
        }
        @media (max-width: 600px) {
            .polaroid { width: 120px; height: 150px; }
            button { font-size: 1.2em; padding: 10px 20px; }
            .gift-overlay { width: 80px; height: 80px; font-size: 1.5em; }
            .modal-content { max-width: 90%; }
        }
    </style>
</head>
<body>
    <!-- Page 1: Question -->
    <div id="page1" class="page active">
        <h1>Will you be my Valentine? üíñ</h1>
        <button id="startSounds">Start Sounds üîä</button>
        <button id="yesBtn">YES üòç</button>
        <button id="noBtn">NO üòí</button>
    </div>

    <!-- Page 2: Photos and Overlay Gifts -->
    <div id="page2" class="page">
        <h1>Our Memories & Gifts üíï</h1>
        
        <!-- Polaroid Photos in Corners -->
        <div class="polaroid top-left">
            <img src="photos/photo1.jpg" alt="Memory 1">
            <p>Our first chat</p>
        </div>
        <div class="polaroid top-right">
            <img src="photos/photo2.jpg" alt="Memory 2">
            <p>Minecraft fun</p>
        </div>
        <div class="polaroid bottom-left">
            <img src="photos/photo3.jpg" alt="Memory 3">
            <p>Late nights</p>
        </div>
        <div class="polaroid bottom-right">
            <img src="photos/photo4.jpg" alt="Memory 4">
            <p>Confession day</p>
        </div>
        
        <!-- Overlay Gift -->
        <div class="gift-overlay" id="giftOverlay">üéÅ</div>
    </div>

    <!-- Modal for Letters -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="letterContent"></div>
            <div class="next-gift" id="nextGift">
                <button id="nextGiftBtn">Next Gift üéÅ</button>
            </div>
        </div>
    </div>

    <script>
        let noClicks = 0;
        let currentGift = 1;
        let ambianceAudio;
        let currentDubAudio;
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const startSounds = document.getElementById('startSounds');
        const modal = document.getElementById('modal');
        const letterContent = document.getElementById('letterContent');
        const nextGift = document.getElementById('nextGift');
        const nextGiftBtn = document.getElementById('nextGiftBtn');
        const closeModal = document.getElementById('closeModal');
        const giftOverlay = document.getElementById('giftOverlay');

        // Improved confetti function
        function createConfetti() {
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.background = ['#ff69b4', '#ffb3d9', '#d63384', '#ff1493'][Math.floor(Math.random() * 4)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = Math.random() * 100 + 'vh';
                confetti.style.animation = `fall ${2 + Math.random() * 3}s linear`;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 5000);
            }
        }
        const style = document.createElement('style');
        style.textContent = '@keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }';
        document.head.appendChild(style);

        // Sound functions
        function playSound(src) {
            const audio = new Audio(src);
            audio.play().catch(e => console.log('Sound blocked:', e));
        }

        // Start sounds button
        startSounds.addEventListener('click', () => {
            ambianceAudio = new Audio('music/ambiance.mp3');
            ambianceAudio.loop = true;
            ambianceAudio.volume = 0.03; // Quieter ambiance
            ambianceAudio.play().catch(e => console.log('Ambiance blocked:', e));
            startSounds.style.display = 'none';
        });

        // Page 1: NO makes YES bigger
        noBtn.addEventListener('click', () => {
            noClicks++;
            const scale = 1 + noClicks * 0.3;
            yesBtn.style.transform = `scale(${scale})`;
        });

        // Page 1: YES goes to Page 2
        yesBtn.addEventListener('click', () => {
            page1.classList.remove('active');
            page2.classList.add('active');
        });

        // Modal close
        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        // Gift overlay click
        giftOverlay.addEventListener('click', () => {
            playSound('music/open.mp3');
            modal.style.display = 'flex';
            createConfetti();
            showLetter(currentGift);
        });

        // Next gift button
        nextGiftBtn.addEventListener('click', () => {
            if (currentDubAudio) {
                currentDubAudio.pause();
                currentDubAudio.currentTime = 0;
            }
            playSound('music/woosh.mp3');
            currentGift++;
            if (currentGift <= 11) {
                showLetter(currentGift);
            } else {
                modal.style.display = 'none';
                giftOverlay.style.display = 'none';
            }
        });

        // Show letter function
        function showLetter(giftNum) {
            nextGift.style.display = 'none';
            if (currentDubAudio) {
                currentDubAudio.pause();
                currentDubAudio.currentTime = 0;
            }
            currentDubAudio = new Audio(`music/Valentines${giftNum}.mp3`);
            currentDubAudio.volume = 2.0; // Max dub volume
            currentDubAudio.play().catch(e => console.log('Dub blocked:', e));
            let html = '';
            if (giftNum == 1) {
                html = `
                    <h2>üéÅ Gift 1 ‚Äî The Beginning</h2>
                    <p>Dear Aini,</p>
                    <p>10 November, 03:00.<br>I met you on Discord.</p>
                    <p>You were there with your friends, playing together, and I somehow joined you guys.<br>Everyone was so friendly. We played Minecraft, laughed, and I tried to play some music‚Ä¶</p>
                    <p>But I accidentally played a moaning sound.<br>I panicked. Left immediately.</p>
                    <p>Still embarrassing. Still funny.</p>
                    <p>That night felt simple, but somehow unforgettable.<br>I didn‚Äôt know it then, but that moment became the start of something special.</p>
                `;
            } else if (giftNum == 2) {
                html = `
                    <h2>üéÅ Gift 2 ‚Äî Fate</h2>
                    <p>Dear Aini,</p>
                    <p>If I didn‚Äôt join Discord that day,<br>If you guys didn‚Äôt play Minecraft,<br>If I didn‚Äôt come back after that embarrassing moment,<br>If I didn‚Äôt feel guilty enough to return‚Äî</p>
                    <p>This part of my life might never have existed.</p>
                    <p>Yet somehow, all of it happened.<br>And here we are today.</p>
                    <p>Maybe it‚Äôs coincidence.<br>Maybe it‚Äôs fate.</p>
                    <p>Either way‚Äî<br>I‚Äôm grateful.</p>
                    <p>Thank you, Ais ü§ç</p>
                `;
            } else if (giftNum == 3) {
                html = `
                    <h2>üéÅ Gift 3 ‚Äî Comfort</h2>
                    <p>Dear Aini,</p>
                    <p>You don‚Äôt even realize it,<br>but you make things feel lighter.</p>
                    <p>Bad days don‚Äôt feel as heavy.<br>Silence doesn‚Äôt feel awkward.<br>Being myself feels safe.</p>
                    <p>That‚Äôs rare.<br>And I don‚Äôt take it for granted.</p>
                `;
            } else if (giftNum == 4) {
                html = `
                    <h2>üéÅ Gift 4 ‚Äî Distance</h2>
                    <p>Dear Ais,</p>
                    <p>We‚Äôre not always in the same place.<br>Sometimes not even in the same time.</p>
                    <p>But I still feel close to you.<br>Through screens, through words, through late nights.</p>
                    <p>Maybe distance exists.<br>But so does us.</p>
                    <p>And I think we‚Äôre doing okay.</p>
                `;
            } else if (giftNum == 5) {
                html = `
                    <h2>üéÅ Gift 5 ‚Äî Almost Losing You</h2>
                    <p>Dear Ais,</p>
                    <p>Do you remember that day?<br>27 January.</p>
                    <p>It still hurts when I think about it.</p>
                    <p>We almost broke up.<br>But you opened up.</p>
                    <p>I didn‚Äôt know what to say.<br>I didn‚Äôt know how I could say something like that.</p>
                    <p>I‚Äôm sorry, Ais.<br>Truly.</p>
                `;
            } else if (giftNum == 6) {
                html = `
                    <h2>üéÅ Gift 6 ‚Äî Our Favorite Food üòã</h2>
                    <p>Your favorite food:<br>Ikan asam pedas üòú</p>
                    <p>My favorite food:<br>Oseng kangkung ‚ò∫</p>
                    <p>Simple things.<br>But somehow, it feels like us.</p>
                `;
            } else if (giftNum == 7) {
                html = `
                    <h2>üéÅ Gift 7 ‚Äî Confession Memory</h2>
                    <p>Dear Ais,</p>
                    <p>31 January 2025.<br>A new year.</p>
                    <p>In a game called ‚ÄúWrite a Letter‚Äù,<br>you confessed to me.</p>
                    <p>Not dramatic.<br>Not perfect.</p>
                    <p>Just honest.</p>
                    <p>And that made it unforgettable.</p>
                `;
            } else if (giftNum == 8) {
                html = `
                    <h2>üéÅ Gift 8 ‚Äî Our Song üé∂</h2>
                    <p>Our Favorite Song<br>‚ÄúOslo‚Äù ‚Äî Matthew Hall</p>
                    <p>Soft. Calm. Comforting.</p>
                    <p>This song reminds me of you.<br>Like a memory that keeps playing,<br>over and over.</p>
                    <div class="disc"></div>
                    <audio controls autoplay>
                        <source src="music/oslo.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                `;
            } else if (giftNum == 9) {
                html = `
                    <h2>üéÅ Gift 9 ‚Äî The Future</h2>
                    <p>Dear Aini,</p>
                    <p>I don‚Äôt know what the future looks like for us.</p>
                    <p>It could be the dream of our lives.<br>Or it could be the end of a dream.</p>
                    <p>Either one is okay‚Äî<br>as long as I‚Äôm with you,<br>as long as I‚Äôm living the moment with you.</p>
                `;
            } else if (giftNum == 10) {
                html = `
                    <h2>üéÅ Gift 10 ‚Äî We Will Meet</h2>
                    <p>Dear Aini,</p>
                    <p>One day, we will meet.</p>
                    <p>Maybe not today.<br>But that day will come.</p>
                    <p>Even if we separate.<br>Even if we‚Äôre not together anymore.</p>
                    <p>We must meet at least once.</p>
                `;
            } else if (giftNum == 11) {
                html = `
                    <h2>üéÅ Gift 11 ‚Äî Healing (Final Letter)</h2>
                    <p>Dear Aini,</p>
                    <p>Oh‚Ä¶ Ais.</p>
                    <p>You were the best thing I ever hoped for.<br>You came at the right time‚Äî<br>when I was desperate,<br>when everything in my life was falling apart.</p>
                    <p>My life was going sideways.</p>
                    <p>Then you came.<br>You fixed me.<br>You made me positive again.</p>
                    <p>Let‚Äôs wait.</p>
                    <p>1 September 2026<br>ISI Yogyakarta ‚ò∫</p>
                `;
            }
            letterContent.innerHTML = html;
            if (currentGift < 11) {
                setTimeout(() => {
                    nextGift.style.display = 'block';
                }, 1500);
            }
        }
    </script>
</body>
</html>
